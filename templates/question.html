<!doctype html>
<html>
    <head><title>Question</title></head>
    <body>
    <h1>Here is a question in the {{ question.category.name }} category</h1>

        <h3>{{ question.question }}</h3>
        <form id="questionForm">
            <input type="radio" name="answer" value="option1">{{ question.option1}} <br />
            <input type="radio" name="answer" value="option2">{{ question.option2}} <br />
            <input type="radio" name="answer" value="option3">{{ question.option3}} <br />
            <input type="radio" name="answer" value="option4">{{ question.option4}} <br />
            <input type="hidden" name="correct", value="option{{ question.answers }}">
            <input type="submit" value="Submit">
        </form>
        <a href="/">Back to Categories</a><br />
        <a href="/question/{{ question.category.id }}">New question in this category</a>
        <script>
        function processForm(e){
            if (e.preventDefault) e.preventDefault();
            var correct_answer = document.forms['questionForm'].getElementsByTagName("input")[4].value;
            var selected_answer = document.querySelector('input[name=answer]:checked').value;

            if(correct_answer === selected_answer){
                alert('You are correct!');
            } else{
                alert('WRONG!');
            }

            return false;

        }
        var form = document.getElementById('questionForm');
        if (form.attachEvent) {
            form.attachEvent("submit", processForm);
        } else {
            form.addEventListener("submit", processForm);
        }
        </script>
    </body>
</html>